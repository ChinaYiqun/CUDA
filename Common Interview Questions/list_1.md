### 1. CPU与GPU的区别？

**CPU（中央处理器）** 设计着重于处理单个线程的复杂计算和控制流程。它通常具有较少的核心（例如，最多几十个核心），但每个核心都能高效地执行复杂指令，并处理复杂的控制逻辑。

**GPU（图形处理器）** 被设计用于高密度和并行计算，其晶体管更多地投入到数据处理而不是数据缓存和流量控制。GPU拥有成百上千的核心，称为**流处理器（Streaming Processors, SP）**，它们能够同时处理大量数据，特别适合于执行高度并行的任务，如图形渲染和深度学习。

### 2. CUDA编程中的SM和SP是什么？

- **SP（Streaming Processor）**：计算核心，是最基本处理单元。
- **SM（Streaming Multiprocessor）**：由多个SP加上其他资源（如寄存器、共享内存）组成的一个更大的执行单元。

### 3. CUDA编程的内存模型包含哪些？

- **全局内存**：最大的内存区域，用于存储所有线程可访问的数据。
- **共享内存**：位于同一个SM内的线程之间共享的快速内存区域，用于线程间的数据共享。
- **寄存器**：每个线程私有的快速存储区域，用于存储局部变量。

### 4. CUDA编程的软件模型包括哪些概念？

- **Block**：线程块，由多个线程组成，是执行的基本单元。
- **Grid**：线程格，由多个线程块组成，覆盖整个数据集。
- **Thread**：线程，执行程序的最小单位。

### 5. Stream（CUDA流）概念的理解？

**CUDA流** 是指主机发出的在一个设备中顺序执行的CUDA操作集合，包括主机到设备的数据传输和内核执行。CUDA流允许开发者控制操作的执行顺序，优化性能。

### 6. 使用共享内存时需要注意什么？

- **线程同步**：使用`__syncthreads()`函数确保线程块内的所有线程在访问共享内存变量之前都已完成各自的任务。
- **避免共享内存的bank冲突**：当同一线程束内的多个线程访问同一个bank中的不同数据时，会导致bank冲突。优化访问模式以避免冲突，可以提高内存访问效率。

### 7. 对CUDA kernel进行优化的角度？

优化CUDA kernel可以从多个角度入手，包括提高指令吞吐量、减少内存访问延迟、优化内存访问模式、减少线程束分歧、合理利用共享内存等。

### 8. GPU L1/L2缓存介绍

**L1/L2缓存** 是GPU内部的快速存储器，用于缓存全局内存中的数据，以减少对全局内存的访问延迟。L1缓存通常与SM紧密相关，而L2缓存则更大，被多个SM共享。

### 9. 同步stream和异步stream的理解

- **同步stream**：操作按顺序执行，一个操作完成后才能开始下一个操作。
- **异步stream**：允许某些操作并行执行，不必等待前一个操作完成，可以提高程序的执行效率。

### 10. sp 是cuda core 吗
是的，在CUDA编程模型中，**SP（Streaming Processor）** 通常被理解为 CUDA Core（CUDA核心）。它是GPU上最基本的执行单元，负责执行指令和处理数据。一个CUDA Core可以执行一个线程束（warp）中的一个线程所分配的指令。

在CUDA架构中，多个SP加上其他资源（如共享内存、寄存器等）组成一个**SM（Streaming Multiprocessor）**。SM是GPU中负责调度和执行线程的单元，每个SM可以处理多个线程束，从而并行执行大量线程。因此，SP是构成SM的基本组件，也是执行CUDA程序中线程的实际处理单元。
